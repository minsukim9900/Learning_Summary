# SW문제해결응용 -그래프 최소 비용

## 서로소 집합(Disjoint sets)

### 상호 배타 집합

- 중복 포함된 원소가 없는 집합 → 교집합이 없음
- 각 집합은 대표자를 통해 구분

### 상호 배타 집합 표현

- 연결 리스트
- 트리

### 상호 배타 집합 연산

- Make-Set(x) : 집합 생성
- Find-Set(x) : x가 속한 대표 가져와
- Union(x, y) : x와 y의 집합을 하나로

### 상호 배타 집합 표현 - 연결리스트

- 같은 집합의 원소들은 하나의 연결리스트로 관리
- 연결리스트의 맨 앞의 원소를 집합의 대표자로 결정
- 각 원소는 집합의 대표원소를 가리키는 링크를 갖는다.

### 연산의 효율을 높이는 방법

- Rank를 이용한 Union
    - 각 노드는 자신을 루트로 하는 subtree의 높이를 랭크(rank)라는 이름으로 저장
    - 두 집합을 Union할 때 rank가 낮은 집합을 높은 집합에 붙인다.
- Path Compression
    - Find-Set을 행하는 과정에서 만나는 모든 노드들이 직접 대표를 가리키도록 수정

## 최소 비용 시장 트리

### 신장 트리

- 그래프의 모든 정점과 간선의 부분 집합으로 구성되는 트리

### 최소 신장 트리

- 신장 트리 중에서 사용된 간선들의 가중치 합이 최소인 트리
- 무 방향 가중치 그래프
- N개의 정점을 가지는 그래프에 대해 반드시 (N-1)개의 간선을 사용
- 사이클을 포함 X

### 왜 사용하는 가?

- 도로망, 통신망, 유통망 등등 여러 분야에서 비용을 최소로 해야 이익을 볼 수 있다.
- 대표적인 알고리즘으로 크루스칼, 프림이 있다.

## 크루스칼 알고리즘 (KRUSKAL Algorithm)

### 크루스칼 알고리즘

- 최초, 모든 간선을 가중치에 따라 오름차순으로 정렬
- 가중치가 가장 낮은 간선부터 선택하면서 트리를 증가시킴
    
    → 사이클이 존재하면 다음으로 가중치가 낮은 간선 선택
    
- N-1개의 간선이 선택될 때까지 2반복

## 프림 알고리즘

### 프림 알고리즘

- 하나의 정점에서 연결된 간선들 중에 하나씩 선택하면서 MST를 만들어가는 방식
    1. 임의 정점을 선택하여 시작
    2. 선택한 정점과 인접하는 정점들 중의 최소 비용의 간선이 존재하는 정점을 선택
    3. 모든 정점이 선택될 때까지 2번 과정을 반복
- 서로소인 2개의 집합 정보를 유지
    - 트리 정점 : MST를 만들기 위해 선택된 정점들
    - 비트리 정점들 : 선택되지 않은 정점들

## 다이슥트라 알고리즘

### 최단 경로

최단 경로 정의

- 가중치가 있는 그래프에서 두 정점 사이의 경로들 중 간선의 가중치의 합이 최소인 경로

하나의 시작 정점에서 끝 정점까지의 최단 경로

- 다익스트라(Dijkstra) 알고리즘 (음의 가중치 허용 x)
- 벨만 포트(Bellman-Ford) 알고리즘 (음의 가중치 허용o)

모든 정점들에 대한 최단 경로

- 플로이드-워셜(Floyd-Warshall)알고리즘

### 다익스트라 알고리즘

- 시작 정점엥서 거리가 최소인 정점을 선택해 나가면서 최단 경로를 구하는 방식
- 탐욕 알고리즘 중 하나, 프림 알고리즘과 유사

### 다익스트라 알고리즘 동작 과정

- 시작 정점 입력
- 거리 저장 배열을 무한으로 초기화
- 시작점에서 갈 수 있는 곳의 값 갱신
- 아직 방문하지 않은 점들이 가지고 있는 거리 값과 현재 정점에서 방문하지 않은 정점까지의 가중치의 합이 작다면 갱신
- 모든 정점을 방문할 때까지 반복